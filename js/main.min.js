const feedbackButton=document.querySelector(".button-feedback"),buyButtons=document.querySelectorAll(".buy-button"),productList=document.querySelector(".product-list"),popupProductAdd=document.querySelector(".product-add"),popupProductClose=popupProductAdd.querySelector(".modal-close"),modalWindow=document.querySelectorAll(".modal"),mapLink=document.querySelector(".about-map"),popupMap=document.querySelector(".modal-map"),mapClose=popupMap.querySelector(".modal-close"),feedback=document.querySelector(".feedback"),feedbackForm=document.querySelector(".feedback-form"),name=feedbackForm.querySelector("[name=name]"),email=feedbackForm.querySelector("[name=email]"),message=feedbackForm.querySelector(".message"),feedbackClose=feedback.querySelector(".modal-close"),sliderControl=document.querySelector(".slider-services-control"),buttonList=document.querySelectorAll(".slider-services-button"),slideTitle=document.querySelector(".slider-services-title"),slideDesc=document.querySelector(".slider-services-description"),deliveryButton=document.querySelector(".delivery-button"),guaranteeButton=document.querySelector(".guarantee-button"),creditButton=document.querySelector(".credit-button");let isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(a){isStorageSupport=!1}productList.addEventListener("click",function(a){let b=a.target;"buy-button"==b.className&&popupProductAdd.classList.add("modal-show")}),popupProductClose.addEventListener("click",function(a){a.preventDefault(),popupProductAdd.classList.remove("modal-show")}),mapClose.addEventListener("click",function(a){a.preventDefault(),popupMap.classList.remove("modal-show")}),feedbackButton.addEventListener("click",function(a){a.preventDefault(),feedback.classList.add("modal-show"),storageName&&storageEmail?(name.value=storageName,email.value=storageEmail,message.focus()):storageEmail&&!storageName?(email.value=storageEmail,name.focus()):storageName&&!storageEmail?(name.value=storageName,email.focus()):name.focus()}),feedbackClose.addEventListener("click",function(a){a.preventDefault(),feedback.classList.remove("modal-show")}),feedbackForm.addEventListener("submit",function(a){name.value&&email.value&&message.value?isStorageSupport&&(localStorage.setItem("name",name.value),localStorage.setItem("email",email.value)):(a.preventDefault(),feedbackForm.classList.remove("modal-error"),feedbackForm.offsetWidth=feedbackForm.offsetWidth,feedbackForm.classList.add("modal-error"))}),window.addEventListener("keydown",function(a){27===a.keyCode&&(feedback.classList.remove("modal-show"),feedback.classList.remove("modal-error"),popupMap.classList.remove("modal-show"),popupProductAdd.classList.remove("modal-show"))}),mapLink.addEventListener("click",function(a){a.preventDefault(),popupMap.classList.add("modal-show")}),mapClose.addEventListener("click",function(a){a.preventDefault(),popupMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&popupMap.classList.contains("modal-show")&&(a.preventDefault(),popupMap.classList.remove("modal-show"))});function removeActive(){for(let a=0;a<buttonList.length;a++)buttonList[a].classList.remove("slider-button-active")}for(let a=0;a<buttonList.length;a++)buttonList[a].addEventListener("click",function(a){removeActive(),a.currentTarget.classList.add("slider-button-active")});deliveryButton.addEventListener("click",function(a){a.preventDefault(),sliderControl.classList.add("delivery-button")}),guaranteeButton.addEventListener("click",function(a){a.preventDefault(),sliderControl.classList.add("guarantee-button")}),creditButton.addEventListener("click",function(a){a.preventDefault()});